<!DOCTYPE html>
<html>
<head>

<script language="JavaScript">

//TWO FUNCTIONS TO SET THE COOKIE

function mixCookie() {

 	    var name = document.forms["form1"]["name"].value;

        bakeCookie("readuser", name, 365);
			
   }
   
function bakeCookie(cname, cvalue1, exdays) {
    var d = new Date();
    d.setTime(d.getTime() + (exdays*24*60*60*1000));
    var expires = "expires="+d.toGMTString();
    document.cookie = cname + "=" + cvalue1 + ";" + expires;
}

//TWO FUNCTIONS TO GET THE COOKIE

function checkCookie() {

    var userdeets = getCookie("readuser");
    if (userdeets != "") {
	    var deets = userdeets.split("%-");
		var user = deets[0];
		namediv.innerHTML = '';
		greeting.innerHTML = 'Welcome ' + user;
		document.getElementById('deletecookie').style.display = "block";
	} else { return "";
  }
}

function getCookie(cname) {

    var name = cname + "=";
    var ca = document.cookie.split(';');
    for(var i=0; i<ca.length; i++) {
        var c = ca[i].trim();
        if (c.indexOf(name) == 0) return c.substring(name.length, c.length);
    }
    return "";
}

function drop_cookie(name) {
  document.cookie = name + '=; expires=Thu, 01 Jan 1970 00:00:01 GMT;';
  location.reload();
}

</script>
</head>

<body onload="checkCookie()">

<div id="namediv">
	 Customer Name: 
     <form name="form1" action="#" method="post">
      <input name="name" id="thename" type="text">
	  
    <div>Choose Your Favorite Guitar:</div>
	<select id="gpref">
     <option value="Gibson">Gibson</option>
     <option value="Fender">Fender</option>
	 <Option value="Alembic">Alembic</option>
	</select>
	<button onclick="mixCookie();">Save Preference</button><p>
     </form>
    </div>  
<div id="greeting"></div>	
<div id="deletecookie" style="display:none;"><button onclick="drop_cookie('readuser');">Remove Cookie</button></div>


</body>
</html>
